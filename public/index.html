<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExamMatrix AI Pro - Native Equation</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css"> 
    
    </head>
<body>

    <header class="app-header">
        <div class="header-content">
            <div class="brand">
                <div class="logo-icon"><i class="fas fa-brain"></i></div>
                <div class="brand-text"><h1>ExamMatrix AI</h1><span class="badge">PRO</span></div>
            </div>
        </div>
    </header>

    <main class="main-container">
        <div class="intro-section">
            <h2>Xây Dựng Ma Trận & Đề Kiểm Tra</h2>
            <p>Xuất Word công thức Toán (Equation) chỉnh sửa được</p>
        </div>

        <div class="card">
            <div class="card-header"><i class="fas fa-sliders-h"></i> 1. Cấu Hình</div>
            <div class="card-body">
                <div class="grid-2">
                    <div class="form-group"><label>Môn học</label><input type="text" id="subject" placeholder="Ví dụ: Toán 9"></div>
                    <div class="form-group"><label>Lớp</label><input type="text" id="grade" placeholder="Ví dụ: 9"></div>
                </div>
                <div class="grid-3">
                    <div class="form-group"><label>Học kì</label><select id="semester"><option value="1">HK 1</option><option value="2">HK 2</option></select></div>
                    <div class="form-group"><label>Loại</label><select id="exam_type"><option value="gk">Giữa kì</option><option value="hk">Cuối kì</option></select></div>
                    <div class="form-group"><label>Thời lượng</label><select id="time_limit"><option value="45">45 phút</option><option value="90">90 phút</option></select></div>
                </div>
                <div class="form-group checkbox-group">
                    <label class="custom-checkbox"><input type="checkbox" id="use_short"><span class="checkmark"></span><span class="label-text">Sử dụng câu hỏi ngắn</span></label>
                </div>
                <div id="hk-config" class="highlight-box hidden">
                    <div class="box-title">Cấu hình Học kì</div>
                    <div class="grid-2">
                        <div class="form-group"><input type="number" id="total_half1" placeholder="Tiết nửa đầu"></div>
                        <div class="form-group"><input type="number" id="total_half2" placeholder="Tiết nửa sau"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header"><i class="fas fa-list-ol"></i> 2. Chủ đề</div>
            <div class="card-body">
                <div id="topics-container"></div>
                <button class="btn btn-outline" id="btnAddTopic"><i class="fas fa-plus-circle"></i> Thêm Chủ đề</button>
            </div>
        </div>

        <div class="license-card">
            <div class="license-icon"><i class="fas fa-key"></i></div>
            <div class="license-input"><input type="text" id="license_key" placeholder="Nhập License Key..."></div>
        </div>

        <div class="action-area">
            <button class="btn btn-primary btn-lg" id="btnGenerate"><i class="fas fa-magic"></i> TẠO ĐỀ THI</button>
            <div id="loadingMsg" class="loading-state hidden"><div class="spinner"></div><span>AI đang viết MathML... Đợi chút...</span></div>
            <div id="errorMsg" class="error-box hidden"></div>
        </div>

        <div id="previewSection" class="card preview-card hidden">
            <div class="card-header success-header"><i class="fas fa-check-circle"></i> Kết quả</div>
            <div class="card-body">
                <div class="preview-scroll-area"><div id="previewContent" class="preview-content"></div></div>
                <div class="preview-footer">
                    <button class="btn btn-success btn-lg" id="btnDownloadWord"><i class="fas fa-file-word"></i> TẢI VỀ WORD (CHỈNH SỬA ĐƯỢC)</button>
                </div>
            </div>
        </div>
    </main>

    <template id="topic-template">
        <div class="topic-item">
            <div class="topic-header"><span class="topic-label">Chủ đề</span><button class="remove-topic-btn btn-icon-danger"><i class="fas fa-times"></i></button></div>
            <div class="grid-2">
                <div class="form-group"><input class="topic-name" placeholder="Tên chủ đề..."></div>
                <div class="form-group"><textarea class="topic-content" rows="1" placeholder="Nội dung..."></textarea></div>
            </div>
            <div class="grid-2 hk-period-inputs hidden">
                <div class="form-group mini"><input type="number" class="topic-period-1" placeholder="Tiết 1"></div>
                <div class="form-group mini"><input type="number" class="topic-period-2" placeholder="Tiết 2"></div>
            </div>
        </div>
    </template>

    <script src="js/app.js"></script>
</body>
</html>
