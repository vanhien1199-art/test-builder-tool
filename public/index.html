<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Ma Tr·∫≠n & ƒê·ªÅ Ki·ªÉm Tra (CV 7991)</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css"> 
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html-docx-js-typescript@0.1.5/dist/index.min.js"></script>
</head>
<body>

    <header class="main-header">
        <div class="header-inner">
            <div class="logo-area">
                <i class="fas fa-file-signature"></i> 
                <span>ExamMatrix AI</span>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <h2 class="page-title">üìù X√¢y D·ª±ng Ma Tr·∫≠n & ƒê·ªÅ Ki·ªÉm Tra</h2>
        <p class="sub-title">Theo C√¥ng vƒÉn 7991/BGDƒêT-GDTrH (ƒê·ªãnh d·∫°ng Word)</p>
        <hr>
        
        <div class="section-box">
            <h5 class="section-title"><i class="fas fa-info-circle"></i> Th√¥ng tin chung</h5>
            <div class="row">
                <div class="six columns">
                    <label>M√¥n h·ªçc</label>
                    <input class="u-full-width" type="text" id="subject" placeholder="VD: Khoa h·ªçc t·ª± nhi√™n">
                </div>
                <div class="six columns">
                    <label>L·ªõp</label>
                    <input class="u-full-width" type="text" id="grade" placeholder="VD: 8">
                </div>
            </div>
            <div class="row">
                <div class="six columns">
                    <label>H·ªçc k√¨</label>
                    <select class="u-full-width" id="semester">
                        <option value="1">H·ªçc k√¨ 1</option>
                        <option value="2">H·ªçc k√¨ 2</option>
                    </select>
                </div>
                <div class="six columns">
                    <label>Th·ªùi gian l√†m b√†i</label>
                    <select class="u-full-width" id="time_limit">
                        <option value="45 ph√∫t">45 ph√∫t</option>
                        <option value="60 ph√∫t">60 ph√∫t</option>
                        <option value="90 ph√∫t">90 ph√∫t</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="six columns">
                    <label>T·ªïng ti·∫øt (N·ª≠a ƒë·∫ßu HK - 25%)</label>
                    <input class="u-full-width" type="number" id="total_half1" placeholder="VD: 18">
                </div>
                <div class="six columns">
                    <label>T·ªïng ti·∫øt (N·ª≠a sau HK - 75%)</label>
                    <input class="u-full-width" type="number" id="total_half2" placeholder="VD: 16">
                </div>
            </div>
        </div>

        <div class="section-box">
            <h5 class="section-title"><i class="fas fa-list"></i> Danh s√°ch Ch·ªß ƒë·ªÅ / Ch∆∞∆°ng</h5>
            <div id="topics-container">
                </div>
            <button class="button" id="btnAddTopic" style="margin-top: 10px;">
                <i class="fas fa-plus"></i> Th√™m Ch·ªß ƒë·ªÅ
            </button>
        </div>

        <div class="license-box">
            <label>üîë M√£ k√≠ch ho·∫°t (License Key)</label>
            <input type="text" id="license_key" placeholder="Nh·∫≠p m√£ b·∫£n quy·ªÅn...">
        </div>

        <button class="button-primary" id="btnGenerate">
            <i class="fas fa-robot"></i> T·∫†O MA TR·∫¨N & ƒê·ªÄ
        </button>
        
        <div id="statusArea">
            <p class="loading" id="loadingMsg" style="display: none;">AI ƒëang t√≠nh to√°n ma tr·∫≠n v√† so·∫°n ƒë·ªÅ (M·∫•t kho·∫£ng 30-60s)...</p>
            <p class="error" id="errorMsg" style="display: none;"></p>
        </div>

        <div id="previewSection" style="display: none;">
            <h4 style="text-align: center; color: #2563eb;">üìÑ Xem Tr∆∞·ªõc N·ªôi Dung</h4>
            
            <div class="preview-content markdown-body" id="previewContent">
                </div>

            <button class="button-success" id="btnDownloadWord">
                <i class="fas fa-file-word"></i> T·∫¢I FILE WORD (.DOCX)
            </button>
        </div>
    </div>

    <template id="topic-template">
        <div class="topic-row">
            <div class="row">
                <div class="four columns">
                    <label>T√™n Ch·ªß ƒë·ªÅ/Ch∆∞∆°ng</label>
                    <input type="text" class="u-full-width topic-name" placeholder="VD: Ch·∫•t v√† s·ª± bi·∫øn ƒë·ªïi">
                </div>
                <div class="four columns">
                    <label>N·ªôi dung ki·∫øn th·ª©c (c√°ch nhau b·ªüi ;)</label>
                    <textarea class="u-full-width topic-content" placeholder="VD: T√≠nh ch·∫•t n∆∞·ªõc; Bay h∆°i..."></textarea>
                </div>
                <div class="two columns">
                    <label>S·ªë ti·∫øt (N·ª≠a ƒë·∫ßu)</label>
                    <input type="number" class="u-full-width topic-period-1" value="0" min="0">
                </div>
                <div class="two columns">
                    <label>S·ªë ti·∫øt (N·ª≠a sau)</label>
                    <input type="number" class="u-full-width topic-period-2" value="0" min="0">
                </div>
            </div>
            <button class="remove-topic-btn" onclick="this.parentElement.remove()">
                <i class="fas fa-trash"></i> X√≥a
            </button>
            <hr style="margin: 10px 0; border-top: 1px dashed #ccc;">
        </div>
    </template>

    <script src="js/app.js"></script> </body>
</html>