<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExamMatrix AI - X√¢y D·ª±ng Ma Tr·∫≠n 7991</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css"> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://unpkg.com/html-docx-js/dist/html-docx.js"></script>
</head>
<body>

    <header class="main-header">
        <div class="header-inner">
            <div class="logo-area">
                <i class="fas fa-brain"></i> 
                <span>ExamMatrix AI 2.0</span>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <h2 class="page-title">üìù T·∫°o Ma Tr·∫≠n & ƒê·ªÅ Ki·ªÉm Tra</h2>
        <p class="sub-title">Chu·∫©n C√¥ng vƒÉn 7991/BGDƒêT-GDTrH (H·ªó tr·ª£ Gemini 2.0)</p>
        <hr>
        
        <div class="section-box">
            <h5 class="section-title"><i class="fas fa-info-circle"></i> 1. Th√¥ng tin chung</h5>
            
            <div class="row">
                <div class="six columns">
                    <label>M√¥n h·ªçc</label>
                    <input class="u-full-width" type="text" id="subject" placeholder="VD: Khoa h·ªçc t·ª± nhi√™n">
                </div>
                <div class="six columns">
                    <label>L·ªõp</label>
                    <input class="u-full-width" type="text" id="grade" placeholder="VD: 8">
                </div>
            </div>

            <div class="row">
                <div class="four columns">
                    <label>H·ªçc k√¨</label>
                    <select class="u-full-width" id="semester">
                        <option value="1">H·ªçc k√¨ 1</option>
                        <option value="2">H·ªçc k√¨ 2</option>
                    </select>
                </div>
                <div class="four columns">
                    <label>Lo·∫°i ki·ªÉm tra</label>
                    <select class="u-full-width" id="exam_type">
                        <option value="gk">Gi·ªØa k√¨ (ƒê·ªãnh k√¨)</option>
                        <option value="hk">Cu·ªëi k√¨ (H·ªçc k√¨)</option>
                    </select>
                </div>
                <div class="four columns">
                    <label>Th·ªùi l∆∞·ª£ng</label>
                    <select class="u-full-width" id="time_limit">
                        <option value="45">45 ph√∫t</option>
                        <option value="60">60 ph√∫t</option>
                        <option value="90">90 ph√∫t</option>
                    </select>
                </div>
            </div>

            <div class="row options-row">
                <label class="checkbox-label">
                    <input type="checkbox" id="use_short"> 
                    <span class="label-body">C√≥ s·ª≠ d·ª•ng c√¢u h·ªèi "Tr·∫£ l·ªùi ng·∫Øn"</span>
                </label>
            </div>

            <div class="row hk-only" style="display: none;">
                <div class="info-alert">
                    <i class="fas fa-exclamation-triangle"></i> 
                    Nh·∫≠p t·ªïng s·ªë ti·∫øt ƒë·ªÉ AI t√≠nh tr·ªçng s·ªë ƒëi·ªÉm (25% / 75%).
                </div>
                <div class="six columns">
                    <label>T·ªïng ti·∫øt (N·ª≠a ƒë·∫ßu HK)</label>
                    <input class="u-full-width" type="number" id="total_half1" placeholder="VD: 18">
                </div>
                <div class="six columns">
                    <label>T·ªïng ti·∫øt (N·ª≠a sau HK)</label>
                    <input class="u-full-width" type="number" id="total_half2" placeholder="VD: 16">
                </div>
            </div>
        </div>

        <div class="section-box">
            <h5 class="section-title"><i class="fas fa-list-ul"></i> 2. N·ªôi dung ki·∫øn th·ª©c</h5>
            <div id="topics-container">
                </div>
            <button class="button" id="btnAddTopic">
                <i class="fas fa-plus"></i> Th√™m Ch·ªß ƒë·ªÅ m·ªõi
            </button>
        </div>

        <div class="license-box">
            <label><i class="fas fa-key"></i> M√£ k√≠ch ho·∫°t (License Key)</label>
            <input type="text" id="license_key" placeholder="Nh·∫≠p m√£ c·ªßa b·∫°n...">
        </div>

        <button class="button-primary" id="btnGenerate">
            <i class="fas fa-magic"></i> B·∫ÆT ƒê·∫¶U T·∫†O MA TR·∫¨N & ƒê·ªÄ
        </button>
        
        <div id="statusArea">
            <p class="loading" id="loadingMsg" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> ƒêang k·∫øt n·ªëi AI...
            </p>
            <p class="error" id="errorMsg" style="display: none;"></p>
        </div>

        <div id="previewSection" style="display: none;">
            <div class="preview-header">
                <h4><i class="fas fa-eye"></i> Xem Tr∆∞·ªõc N·ªôi Dung</h4>
                <p>Ki·ªÉm tra k·ªπ b·∫£ng ma tr·∫≠n tr∆∞·ªõc khi t·∫£i v·ªÅ.</p>
            </div>
            
            <div class="preview-content" id="previewContent"></div>

            <button class="button-success" id="btnDownloadWord">
                <i class="fas fa-file-word"></i> T·∫¢I FILE WORD (.DOCX)
            </button>
        </div>
    </div>

    <template id="topic-template">
        <div class="topic-row">
            <div class="row">
                <div class="five columns">
                    <label>T√™n Ch·ªß ƒë·ªÅ / Ch∆∞∆°ng</label>
                    <input type="text" class="u-full-width topic-name" placeholder="Nh·∫≠p t√™n ch·ªß ƒë·ªÅ...">
                </div>
                <div class="seven columns">
                    <label>N·ªôi dung / ƒê∆°n v·ªã ki·∫øn th·ª©c</label>
                    <textarea class="u-full-width topic-content" placeholder="Chi ti·∫øt n·ªôi dung (c√°ch nhau b·ªüi d·∫•u ch·∫•m ph·∫©y)"></textarea>
                </div>
            </div>
            <div class="row hk-only" style="display: none;">
                <div class="six columns">
                    <label>S·ªë ti·∫øt d·∫°y (N·ª≠a ƒë·∫ßu)</label>
                    <input type="number" class="u-full-width topic-period-1" value="0" min="0">
                </div>
                <div class="six columns">
                    <label>S·ªë ti·∫øt d·∫°y (N·ª≠a sau)</label>
                    <input type="number" class="u-full-width topic-period-2" value="0" min="0">
                </div>
            </div>
            <button class="remove-topic-btn" onclick="this.closest('.topic-row').remove()">
                <i class="fas fa-trash-alt"></i> X√≥a ch·ªß ƒë·ªÅ n√†y
            </button>
        </div>
    </template>

    <script src="js/app.js"></script>
</body>
</html>
